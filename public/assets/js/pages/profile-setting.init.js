document.querySelector("#profile-foreground-img-file-input")&&document.querySelector("#profile-foreground-img-file-input").addEventListener("change",(function(){var e=document.querySelector(".profile-wid-img"),r=document.querySelector(".profile-foreground-img-file-input").files[0],t=new FileReader;t.addEventListener("load",(function(){e.src=t.result}),!1),r&&t.readAsDataURL(r)})),document.querySelector("#profile-img-file-input").addEventListener("change",(function(){var e=document.querySelector(".user-profile-image"),r=this.files[0],t=parseInt(this.getAttribute("data-id"),10),o=window.location.pathname.split("/")[1],n=new FileReader,a=new FormData;a.append("profileImage",r),fetch("/"+o+"/upload/profile-image/"+t,{method:"POST",body:a}).then((e=>e.json())).then((t=>{n.addEventListener("load",(function(){e.src=n.result}),!1),r&&n.readAsDataURL(r),window.location.reload()})).catch((e=>console.error("Error:",e))),window.location.reload()})),document.querySelectorAll('.form-check-input[type="checkbox"]').forEach((e=>{e.addEventListener("change",(function(){function e(e,r){let t;switch(r){case"success":case"info":t="linear-gradient(to right, #00b09b, #96c93d)";break;case"error":case"warning":t="linear-gradient(to right, #ff5f6d, #ffc371)";break;default:t="linear-gradient(to right, #1a73e8, #66a6ff)"}Toastify({text:e,duration:5e3,close:!0,gravity:"top",position:"right",style:{background:t}}).showToast()}const r=this.dataset.endpoint,t=this.checked?1:0;fetch(r,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({value:t})}).then((e=>e.json())).then((r=>{r.success?e(r.message,"success"):r.errors&&r.errors.forEach((r=>{e(r,"error")}))})).catch((r=>{console.error("Error:",r),r.errors?r.errors.forEach((r=>{e(r,"error")})):r.error?e(r.error,"error"):e("An unexpected error occurred.","error")}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("checkPasswordBtn");function r(e,r){let t;switch(r){case"success":case"info":t="linear-gradient(to right, #00b09b, #96c93d)";break;case"error":case"warning":t="linear-gradient(to right, #ff5f6d, #ffc371)";break;default:t="linear-gradient(to right, #1a73e8, #66a6ff)"}Toastify({text:e,duration:5e3,close:!0,gravity:"top",position:"right",style:{background:t}}).showToast()}e&&e.addEventListener("click",(function(t){t.preventDefault();const o=document.getElementById("passwordInput").value;let n=window.location.pathname.split("/")[1],a=e.getAttribute("data-route");fetch("/"+n+"/"+a+"/profile/verify-password",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({password:o})}).then((e=>e.json())).then((e=>{if(e.success){r(e.message,"success");const t=document.getElementById("deleteAccountModal");new bootstrap.Modal(t).show()}else e.errors&&e.errors.forEach((e=>{r(e,"error")}))})).catch((e=>{console.error("Error:",e),e.errors?e.errors.forEach((e=>{r(e,"error")})):e.error?r(e.error,"error"):r("An unexpected error occurred.","error")}))}))}));