var checkAll=document.getElementById("checkAll");checkAll&&(checkAll.onclick=function(){for(var e=document.querySelectorAll('.form-check-all input[type="checkbox"]'),t=document.querySelectorAll('.form-check-all input[type="checkbox"]:checked').length,c=0;c<e.length;c++)e[c].checked=this.checked,e[c].checked?e[c].closest("tr").classList.add("table-active"):e[c].closest("tr").classList.remove("table-active");document.getElementById("remove-actions").style.display=t>0?"none":"block"}),document.querySelector("#usersList").addEventListener("click",(function(){ischeckboxcheck()}));var table=document.getElementById("userListTable"),tr=table.getElementsByTagName("tr"),trlist=table.querySelectorAll(".list tr");function ischeckboxcheck(){Array.from(document.getElementsByName("checkAll")).forEach((function(e){e.addEventListener("change",(function(t){1==e.checked?t.target.closest("tr").classList.add("table-active"):t.target.closest("tr").classList.remove("table-active");var c=document.querySelectorAll('[name="checkAll"]:checked').length;t.target.closest("tr").classList.contains("table-active"),document.getElementById("remove-actions").style.display=c>0?"block":"none"}))}))}function deleteMultiple(){var e=window.location.pathname.split("/")[1];let t=[];document.querySelectorAll(".form-check [value=option1]").forEach((e=>{if(e.checked){let c=e.closest("tr"),l=c.querySelector("td a").textContent.trim();t.push({id:l,row:c})}}));const c=Swal.mixin({customClass:{confirmButton:"btn btn-primary w-xs me-2 mt-2",cancelButton:"btn btn-danger w-xs mt-2"},buttonsStyling:!1});t.length>0?c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",showCloseButton:!0}).then((l=>{if(l.value){let l=t.map((e=>e.id));fetch("/"+e+"/admin/users/delete-multiple",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({ids:l})}).then((e=>{e.ok?(t.forEach((e=>{e.row.remove()})),document.getElementById("remove-actions").style.display="none",document.getElementById("checkAll").checked=!1,c.fire({title:"Deleted!",text:"Your data has been deleted.",icon:"success"})):c.fire({title:"Error!",text:"Deletion failed.",icon:"error"})})).catch((e=>{console.error("Error:",e),c.fire({title:"Error!",text:"There was a problem processing your request.",icon:"error"})}))}})):c.fire({title:"Please select at least one checkbox",showCloseButton:!0})}